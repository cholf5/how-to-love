# 第 20 章 - 调试

调试的核心是定位 bug 发生的位置与原因。

## 利用 `print`

- 在可疑的代码段加入 `print` 输出变量值，确认流程是否执行。
- `io.stdout:setvbuf("no")` 可以让输出立即显示，不必关闭窗口。
- 输出时添加说明文字，便于理解：`print("key pressed", key)`。

## 阅读报错

- 错误信息通常包含文件名、行号以及错误原因，例如 “attempt to perform arithmetic on field 'x' (a nil value)” 表示访问的字段不存在。
- 根据错误提示回到对应的函数修改逻辑，例如向表里插入元素时要写成 `{x = circle.x, y = circle.y}`。

## 调试建议

- 先判断代码是否执行，再确认数据是否正确，最后检查渲染是否符合预期。
- 把临时调试代码删除或注释，保持工程整洁。

___

## 总结

善用输出语句与错误信息就能快速定位问题，调试是一项需要不断练习的基本功。
