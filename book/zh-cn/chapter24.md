# 第 24 章 - 平台游戏

本章基于上一章的碰撞系统，扩展出一个简单的平台跳跃场景。

关键要点：

- 使用 `Entity` 基类派生 `Player`、`Wall`、`Box` 等对象。
- 玩家拥有速度与加速度：
  ```lua
  self.x = self.x + self.xvel * dt
  self.y = self.y + self.yvel * dt
  self.yvel = self.yvel + gravity * dt
  ```
- 按左右键改变水平速度，按空格或上键在落地时施加一个向上的冲量，实现跳跃。
- 地图由二维数组生成墙块，静态墙体单独存放，避免互相检测造成性能浪费。
- 使用循环迭代的方式解决碰撞：每帧多次检测玩家与墙体是否重叠，按最小重叠轴推开；若在底部接触，则把 `isGrounded` 设为 `true` 并清空垂直速度。
- 额外对象（如可推动的箱子）同样通过碰撞解决算法与环境交互。

___

## 总结

平台游戏的核心在于：重力与速度更新、可靠的碰撞解决、以及对地面状态的检测。本章展示了如何把这些模块组合起来，构建出可移动、可跳跃、可推动的基础关卡。
